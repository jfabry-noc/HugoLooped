<!DOCTYPE html>
<html class="" lang="en"><head>
    
    <meta name="viewport" content="width=device-width" />
    <meta http-equiv="Content-Type" content="text/html;charset=UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=7" />

    <link
    rel="icon"
    href='/favicon.png'
/>
<link
    rel="shortcut icon"
    href='/favicon.ico'
    type="image/x-icon"
/>
<link
    rel="apple-touch-icon"
    href='/apple-touch-icon.png'
/>

<title>
        
            Extracting Audio From Video With FFmpeg  &ndash;
        
        LoopedNetwork
    </title>

    
    <link href="/symbols-nerd-font/symbols-nerd-font.css" rel="stylesheet" integrity="sha512-lydow8GLOLlYNOtHlksNCmGWWCBsbIEtikXpHzfWqx78HLlyQZHOzyLwPpKol4Th6aCwLUXOfODVYgwrd3nwKQ=="/>
    <link href="/jetbrains-mono/jetbrains-mono.css" rel="stylesheet" integrity="sha512-tJxlgL6v1Y7kFf+qB8SloaAMKnOAw6WouknxXtIjkBux9Y/9aX81EUWOJO8c/3l98DmjG8brr4to7zaez606Fg=="/>

    
    
    <link type="text/css" rel="stylesheet" href=https://hugolooped.pages.dev/css/styles.abbd6311bb4b6ca58f8e7398140529245ae0f6428b759fcd830742eee2619eabb900ba9914a9affb82aa9a16a9b9ea727bb315315a976a0db0e7513a5f12c504.css integrity="sha512-q71jEbtLbKWPjnOYFAUpJFrg9kKLdZ/NgwdC7uJhnqu5ALqZFKmv&#43;4Kqmhapuepye7MVMVqXag2w51E6XxLFBA==" />
<meta name="author" content="LoopedNetwork" />

    
    
        <meta name="description" content="go I needed to extract the audio component out of a video file into some type of standalone audio file, like .mp3. Since I&amp;rsquo;ve been working with Audacity to record audio, I figured maybe it had some capability for ripping it out of video.
My initial searches gave me results like this which quickly made it clear that while this is technically possible, it requires some add-ins that I didn&amp;rsquo;t really want to mess around with." />
    

<meta property="og:site_name"
    content='LoopedNetwork' />

    <meta property="og:title" content="Extracting Audio From Video With FFmpeg" />
    <meta property="og:type" content="article" />
    
    <meta
        property="article:author" content="LoopedNetwork" />
    <meta
        property="article:published_time"
        content='2022-09-14T18:28:19Z-0400' />
    
    <meta property="og:url" content="https://hugolooped.pages.dev/posts/ffmpeg-audio-from-video/" />
    
    
    <meta property="og:image"
        content="https://hugolooped.pages.dev/img/icon.svg" />
    
        <meta property="og:description" content="Just a few moments ago I needed to extract the audio component out of a video file into some type of standalone audio file, like .mp3. Since I&amp;rsquo;ve been wor" />
    

<meta name="twitter:card" content="summary_large_image" />
<meta property="twitter:domain"
      content='ugolooped.pages.dev'
/>
<meta property="twitter:url" content="https://hugolooped.pages.dev/posts/ffmpeg-audio-from-video/" />


    <meta name="twitter:title" content="Extracting Audio From Video With FFmpeg" />
    
    
    
    <meta name="twitter:image"
        content="https://hugolooped.pages.dev/img/icon.svg" />
    
        <meta name="twitter:description" content="Just a few moments ago I needed to extract the audio component out of a video file into some type of standalone audio file, like .mp3. Since I&amp;rsquo;ve been wor" />
    

<link rel="manifest" href="/manifest/index.json" />
</head>


<body>
        <div id="baseContainer"><header class="">
<div class="titleAndSearchContainer">
        <div id="titleContainer">
            
                <a class="unstyledLink" href="/">
                    <img src='/logo.svg' alt='Logo'/>
                </a>
            
            <div class="rightOfLogo">
                <div class="titleAndHamburger">
                    <h1>
                        <a class="unstyledLink" href="/">LoopedNetwork</a>
                        
                    </h1>
                    
                </div>
                <div id="wide_nav"><nav>
    
    <ul id="main-nav">
        <li><a href="/">Home</a></li>
        
            <li><a href="/posts">Posts</a></li>
        
        
        
        
        
            <li><a href="https://hugolooped.pages.dev/pages/about/">
                About
            </a></li>
        
        
            <li><a href="/about/">About</a></li>
        
        
            <li><a href="/tags">Tags</a></li>
        
        
    </ul>
</nav>
</div>
            </div>
        </div>
        <div class="search">
    <input id="searchbar" type="text" placeholder='Search' />
    <a class="nerdlink" onclick="newSearch();">&#xf002;</a>
</div>
<script>
    function newSearch() {
        let term = searchbar.value.trim();
        if (!term) return;
        location.href = `/search?q=${term}`;
    }
    searchbar.onkeyup = (ev) => {if (ev.keyCode == 13) newSearch()};
</script>

    </div>
    <div id="links">
        <a
    
        rel="noreferrer"
    
    target="_blank"
    class="nerdlink"
    href="/index.xml">
    
    
        &#xf09e;
    
    <span>
        RSS
    </span>
</a>

        
        <a
    
        rel="noreferrer"
    
    target="_blank"
    class="nerdlink"
    href="https://github.com/jfabry-noc">
    
    
        &#xf09b;
    
    <span>
        GitHub
    </span>
</a>
<a
    
        rel="me"
    
    target="_blank"
    class="nerdlink"
    href="https://mastodon.online/@looped_network">
    
    
        <svg class='pseudofont' xmlns:svg='http://www.w3.org/2000/svg' width='16' height='16' viewbox='0 0 16 16'><path d='M 7.4779094,-1.598624e-6 C 5.5602384,0.0156984 3.7155894,0.2233384 2.6405814,0.7170384 c 0,0 -2.13206093,0.9537 -2.13206093,4.20766 0,0.74512 -0.01448,1.63603 0.0091,2.58084 0.07742,3.1821946 0.58336693,6.3183886 3.52553593,7.0971276 1.356568,0.359063 2.521335,0.434289 3.45936,0.382729 1.701085,-0.09431 2.6560206,-0.607063 2.6560206,-0.607063 l -0.05611,-1.234252 c 0,0 -1.2156316,0.383272 -2.5808476,0.33656 -1.352609,-0.04639 -2.780561,-0.145832 -2.999328,-1.80651 -0.0202,-0.145872 -0.03031,-0.301902 -0.03031,-0.465714 0,-10e-7 1.327834,0.324572 3.010574,0.40167 1.028943,0.0472 1.993827,-0.06028 2.9738766,-0.177218 1.879445,-0.224425 3.515901,-1.382448 3.721577,-2.4405646 0.32407,-1.666815 0.297376,-4.067605 0.297376,-4.067605 0,-3.25396 -2.131943,-4.20766 -2.131943,-4.20766 C 11.288476,0.2233384 9.4426784,0.0156784 7.5250084,-1.598624e-6 Z M 5.3076104,2.5424984 c 0.798781,0 1.403595,0.30701 1.803551,0.92113 l 0.388886,0.65181 0.388884,-0.65181 c 0.399875,-0.61412 1.00469,-0.92113 1.803551,-0.92113 0.6903266,0 1.2465526,0.24267 1.6713186,0.71609 0.411755,0.47342 0.61677,1.11337 0.61677,1.91862 v 3.939988 h -1.560986 v -3.824218 c 0,-0.80613 -0.339166,-1.21531 -1.0176126,-1.21531 -0.750129,0 -1.126049,0.48533 -1.126049,1.44509 v 2.09324 h -1.551753 v -2.09324 c 0,-0.95976 -0.376039,-1.44509 -1.126168,-1.44509 -0.678446,0 -1.017613,0.40918 -1.017613,1.21531 v 3.824218 h -1.560985 v -3.939988 c 0,-0.80525 0.205053,-1.4452 0.616889,-1.91862 0.424685,-0.47342 0.980911,-0.71609 1.671317,-0.71609 z' /></svg>
    
    <span>
        Mastodon
    </span>
</a>

    </div>
    

</header>
<div id="contentContainer">
                <div id="content">
                    <main>
<article class="card single">
    
        <h1>Extracting Audio From Video With FFmpeg</h1>
    
    
        <p class="date">
            <span title='Date'>ï—¬ </span>
    2022-09-14

</p>
    
    
    
    
    <div><p>Just a few moments ago I needed to extract the audio component out of a video file into some type of standalone audio file, like <code>.mp3</code>. Since I&rsquo;ve been working with <a href="https://www.audacityteam.org/">Audacity</a> to <em>record</em> audio, I figured maybe it had some capability for ripping it out of video.</p>
<p>My initial searches gave me results like <a href="https://www.youtube.com/watch?v=SP8IONsqMVk">this</a> which quickly made it clear that while this is technically possible, it requires some add-ins that I didn&rsquo;t really want to mess around with. However, since the add-in mentioned in that video was for <a href="https://ffmpeg.org/">FFmpeg</a>, I realized I could just use that directly.</p>
<p>I didn&rsquo;t have <code>ffmpeg</code> installed, but that was easy enough to rectify on Fedora 36.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>sudo dnf install ffmpeg-free
</span></span></code></pre></div><p>Then I needed to extract the audio. I first checked how it was encoded in the video with:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>ffprobe my_video.mp4
</span></span></code></pre></div><p>After sifting through the output, I saw that it was encoded as <strong>aac</strong>:</p>
<blockquote>
<p>Stream #0:1<a href="eng">0x2</a>: Audio: aac (mp4a / 0x6134706D), 48000 Hz, stereo, s16, 317 kb/s (default)</p>
</blockquote>
<p>Rather than that, I wanted to simultaneously re-encode the audio as MP3. Another quick search showed me some <a href="https://stackoverflow.com/questions/9913032/how-can-i-extract-audio-from-video-with-ffmpeg">great resources</a>. Ultimately, I ended up doing:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>ffmpeg -i my_video.mp4 -q:a <span style="color:#ae81ff">0</span> -map a bourbon.mp3
</span></span></code></pre></div><p>As mentioned in the <a href="https://stackoverflow.com/a/36324719">Stack Overflow post</a>, the <code>-q:a 0</code> parameter allows for a variable bitrate while while <code>-map a</code> says to ignore everything else except the audio.</p>
<p>Just a few moments later, and my MP3 was successfully encoded.</p>
</div>
</article>






                    </main><footer>
    <hr />

<p><small>
        2023 &copy; Copyright 2023 - LoopedNetwork
    </small></p>
    <p><small>
        <a href='https://gitlab.com/gabmus/hugo-ficurinia'>Ficurinia theme</a> for <a href='https://gohugo.io'>Hugo</a> by <a href='https://gabmus.org'>Gabriele Musco</a>. Licensed under <a href='https://www.gnu.org/licenses/agpl-3.0.html'>GNU AGPLv3</a>.
    </small></p>
</footer>
</div>
            </div>
        </div>


</body>
</html>
